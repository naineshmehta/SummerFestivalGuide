(function(i){i.multiGallery=function(Xc,e){function Ac(){k=0;"horizontal"==W?(J.css("height",aa+2*K+"px"),bc=parseInt(J.css("height"),10)):(J.css("width",ba+2*K+"px"),bc=parseInt(J.css("width"),10));"inside"==ca&&(D=ga+Fa+Ma+bc+Yc);"horizontal"==W?X.css("left",0):X.css("top",0);N&&(N.css("width",ba+2*K+"px"),N.css("height",aa+2*K+"px"))}function cc(){var a;"horizontal"==W?(s=Math.floor((g-Cb)/(ba+da)),!dc&&s>Na?s=Na:s>l?s=l:s<Va&&(s=Va),R=s*ba+(s-1)*da+2*K,J.css("width",R+"px"),a=-(l*ba+(l-1)*da)+
R-2*K,parseInt(X.css("left"),10)<a&&X.css("left",a)):(s=Math.floor((f-Cb)/(aa+da)),!dc&&s>Na?s=Na:s>l?s=l:s<Va&&(s=Va),R=s*aa+(s-1)*da+2*K,J.css("height",R+"px"),a=-(l*aa+(l-1)*da)+R-2*K,parseInt(X.css("top"),10)<a&&X.css("top",a));k+s>l-1&&(k=l-s);ib();N&&Db();"horizontal"==W?(Eb?(J.css(Ia,za+"px"),"left"==Ia?(r.css(Ia,za-r.width()-ha+"px"),B.css(Ia,za+R+ha+"px")):(B.css(Ia,za-r.width()-ha+"px"),r.css(Ia,za+R+ha+"px"))):(J.css("left",h.width()/2-R/2+"px"),r.css("left",h.width()/2-R/2-r.width()-ha+
"px"),B.css("left",h.width()/2+R/2+ha+"px")),r.css("top",ga+Fa+Ma+aa/2+K-r.height()/2+"px"),B.css("top",ga+Fa+Ma+aa/2+K-B.height()/2+"px")):(Eb?(J.css(Ia,za+"px"),"top"==Ia?(r.css("top",za-r.height()-ha+"px"),B.css("top",za+R+ha+"px")):(B.css("top",za-r.height()-ha+"px"),r.css("top",za+R+ha+"px"))):(J.css("top",h.height()/2-R/2+"px"),r.css("top",h.height()/2-R/2-r.height()-ha+"px"),B.css("top",h.height()/2+R/2+ha+"px")),r.css("left",ga+Fa+Ma+ba/2+K-r.width()/2+"px"),B.css("left",ga+Fa+Ma+ba/2+K-r.width()/
2+"px"))}function ec(){var a={};if("top"==S)a.top=ia?-D+"px":0;else if("bottom"==S)a.top=ia?f+"px":f-D+"px";else if("left"==S)a.left=ia?-D+"px":0;else if("right"==S)a.left=ia?g+"px":g-D+"px";ia?(Wa.attr("src",e.iconPath+"plus_off.png"),ia=!1):(Wa.attr("src",e.iconPath+"minus_off.png"),ia=!0);h.stop().animate(a,{duration:500,easing:"easeOutQuint"})}function fc(){"top"==S?(h.css("width",g+"px"),h.css("height",D+"px"),ia?h.css("top",0):"inside"==ca?h.css("top",-D+"px"):(h.css("top",0),v.css("top",D+
"px")),h.css("left",0),"inside"==ca&&jb&&(H.css("top",D+10+"px"),H.css("left","10px"))):"bottom"==S?(h.css("width",g+"px"),h.css("height",D+"px"),ia?h.css("top",f-D+"px"):h.css("top",f+"px"),h.css("left",0),"inside"==ca&&jb&&(H.css("bottom",D+10+"px"),H.css("right","10px"))):"left"==S?(h.css("width",D+"px"),h.css("height",f+"px"),h.css("top",0),ia?h.css("left",0):"inside"==ca?h.css("left",-D+"px"):(h.css("left",0),v.css("left",D+"px")),"inside"==ca&&jb&&(H.css("top","10px"),H.css("left",D+10+"px"))):
"right"==S&&(h.css("width",D+"px"),h.css("height",f+"px"),h.css("top",0),ia?h.css("left",g-D+"px"):h.css("left",g+"px"),"inside"==ca&&jb&&(H.css("bottom","10px"),H.css("right",D+10+"px")))}function Db(a){if(-1!=x()){var b=Fb[x()]-K;b&&("horizontal"==W?N.stop().animate({left:b},{duration:500,easing:"easeOutQuint"}):N.stop().animate({top:b},{duration:500,easing:"easeOutQuint"}));a&&(x()>k-1+s?(k=x(),k>l-1&&(k=l-1),k>l-s&&(k=l-s),Bc()):x()<k&&(k=x(),0>k&&(k=0),Bc()))}}function Bc(){kb=!0;var a;"horizontal"==
W?(a=k*ba+k*da,X.stop().animate({left:-a+"px"},{duration:500,easing:"easeOutQuint",complete:function(){ib()}})):(a=k*aa+k*da,X.stop().animate({top:-a+"px"},{duration:500,easing:"easeOutQuint",complete:function(){ib()}}))}function Cc(a){if(!a)a=window.event;a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();if(T&&!kb){a=i(a.currentTarget).attr("id");if("prevThumbBtn"==a){if(0==k)return;kb=!0;k-=s;0>k&&(k=0)}else if("nextThumbBtn"==a){if(k==l-s)return;kb=!0;k+=s;k>l-1&&(k=l-1);
k>l-s&&(k=l-s)}"horizontal"==W?(a=k*ba+k*da,X.stop().animate({left:-a+"px"},{duration:500,easing:"easeOutQuint",complete:function(){ib()}})):(a=k*aa+k*da,X.stop().animate({top:-a+"px"},{duration:500,easing:"easeOutQuint",complete:function(){ib()}}));return!1}}function ib(){l<=s?(r.css("display","none"),B.css("display","none")):(r.css("display","block"),B.css("display","block"),0==k?(r.css("cursor","default"),r.css("opacity",0.5)):(r.css("cursor","pointer"),r.css("opacity",1)),k+s==l?(B.css("cursor",
"default"),B.css("opacity",0.5)):(B.css("cursor","pointer"),B.css("opacity",1)),kb=!1)}function Zc(a){if(!a)a=window.event;a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();if(T&&(a=i(a.currentTarget).attr("id"),a!=o))if(Ja)Oa||(gc=a,Oa=!0);else return Ja=!0,hc(),o=a,Gb(),O&&Xa(),lb(),!1}function hc(){ic&&ic.css("cursor","pointer")}function Gb(){var a=jc[o];a.css("cursor","default");ic=a}function U(a,b){for(var c=0;a<b;a++)c+=Hb[a]+Ib;return c-=Ib}function $c(){var a;a="horizontal"==
ma?g-Jb:f-Jb;a<Ka&&(a=Ka);var b=0,c=m;Y=m;var d=!0;a:for(;b<a;){Y--;if(!mb&&c-Y>Ga){Y=c-Ga;d=!1;b=U(Y,c);break a}if(0>Y){Y=0;for(var d=!1,b=U(Y,c),p=!0;b<a;){c++;if(!mb&&c>Ga){c=Ga;p=!1;b=U(0,c);break a}if(c>F){c=F;p=!1;b=U(0,c);break a}b=U(0,c)}p&&(c--,b=U(Y,c));break a}b=U(Y,c)}d&&(Y++,b=U(Y,c));a=Ya[Y];"horizontal"==ma?(V=b+2*sa,w.css("width",V+"px"),La?w.css(ea,na+"px"):w.css("left",h.width()/2-V/2+"px"),ta.stop().animate({left:-a+"px"},{duration:500,easing:"easeOutQuint",complete:function(){Kb()}})):
(V=b+2*ua,w.css("height",V+"px"),La?w.css(ea,na+"px"):w.css("top",h.height()/2-V/2+"px"),ta.stop().animate({top:-a+"px"},{duration:500,easing:"easeOutQuint",complete:function(){Kb()}}));Pa=c-Y;Dc();O&&Xa()}function Lb(){var a;a="horizontal"==ma?g-Jb:f-Jb;a<Ka&&(a=Ka);var b=0,c=m,d=!0;a:for(;b<a;){c++;if(!mb&&c-m>Ga){c=m+Ga;d=!1;b=U(m,c);break a}if(c>F){for(var c=F,d=!1,b=U(m,c),p=!0;b<a;){m--;if(!mb&&c-m>Ga){m=c-Ga;p=!1;b=U(m,F);break a}if(0>m){m=0;p=!1;b=U(0,F);break a}b=U(m,F)}p&&(m++,b=U(m,c));
break a}b=U(m,c)}d&&(c--,b=U(m,c));a=Ya[m];Pa=c-m;"horizontal"==ma?(V=b+2*sa,w.css("width",V+"px"),La?w.css(ea,na+"px"):w.css("left",h.width()/2-V/2+"px"),ta.stop().animate({left:-a+"px"},{duration:500,easing:"easeOutQuint",complete:function(){Kb()}})):(V=b+2*ua,w.css("height",V+"px"),La?w.css(ea,na+"px"):w.css("top",h.height()/2-V/2+"px"),ta.stop().animate({top:-a+"px"},{duration:500,easing:"easeOutQuint",complete:function(){Kb()}}));Dc();O&&Xa()}function Dc(){"horizontal"==ma?(n.css("top",ga+Qa/
2+ua-n.height()/2+Mb+"px"),E.css("top",ga+Qa/2+ua-n.height()/2+Mb+"px"),La?"left"==ea?(n.css(ea,na-n.width()-ja+"px"),E.css(ea,na+parseInt(w.css("width"),10)+ja+"px")):(E.css(ea,na-n.width()-ja+"px"),n.css(ea,na+parseInt(w.css("width"),10)+ja+"px")):(n.css("left",h.width()/2-V/2-n.width()-ja+"px"),E.css("left",h.width()/2+V/2+ja+"px"))):(n.css("left",ga+nb/2+sa-n.width()/2+Mb+"px"),E.css("left",ga+nb/2+sa-n.width()/2+Mb+"px"),La?"top"==ea?(n.css(ea,na-n.height()-ja+"px"),E.css(ea,na+parseInt(w.css("height"),
10)+ja+"px")):(E.css(ea,na-n.height()-ja+"px"),n.css(ea,na+parseInt(w.css("height"),10)+ja+"px")):(n.css("top",h.height()/2-V/2-n.height()-ja+"px"),E.css("top",h.height()/2+V/2+ja+"px")))}function Xa(){var a,b;"horizontal"==ma?(b=Hb[o]+2*sa+"px",O.css("height",Qa+2*ua+"px"),a=Ya[o]-sa,O.stop().animate({left:a,width:b},{duration:500,easing:"easeOutQuint"})):(b=Ec[o]+2*sa+"px",O.css("height",Qa+2*ua+"px"),a=Ya[o]-ua,O.stop().animate({top:a,width:b},{duration:500,easing:"easeOutQuint"}))}function Fc(a){if(!a)a=
window.event;a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();if(T&&!Nb){a=i(a.currentTarget).attr("id");if("prevMenuBtn"==a){if(0==m)return;Nb=!0;$c();m=Y;0>m&&(m=0)}else if("nextMenuBtn"==a){if(m==F-Pa)return;Nb=!0;m+=Pa;m>F-1&&(m=F-1);Lb()}return!1}}function Kb(){F<=Pa?(n.css("display","none"),E.css("display","none")):(n.css("display","block"),E.css("display","block"),0==m?(n.css("cursor","default"),n.css("opacity",0.5)):(n.css("cursor","pointer"),n.css("opacity",1)),m+Pa==
F?(E.css("cursor","default"),E.css("opacity",0.5)):(E.css("cursor","pointer"),E.css("opacity",1)),Nb=!1)}function lb(){j&&clearTimeout(j);Ra&&clearInterval(Ra);Ob();for(var a=0,b;a<l;a++)(b=ob[a])&&b.remove();ob=[];I.stop().empty();L.stop().empty();I.css("zIndex",0);L.css("zIndex",1);I.css("opacity",1);L.css("opacity",1);I.css("background","none");L.css("background","none");I.css("overflow","visible");L.css("overflow","visible");I.css("display","none");L.css("display","none");v.css("background","none");
Pb=Ja=!1;Oa?(Oa=!1,hc(),o=gc,Gb(),O&&Xa(),lb()):(Gc(),Ac(),fc(),cc(),Za||Lb())}function Gc(){Z=-1;Fb=[];q=Aa=oa=va=!1;Ha=[];Qb=null;wa=i(kc[o]);Ha=wa.children("a[title=media]");l=Ha.length;Na>l&&(Na=l);if(lc){for(var a=l,b=[],c=[],d=0,p=0;d<a;d++)b[d]=d;for(p=0;p<a;p++)d=Math.round(Math.random()*(b.length-1)),c[p]=b[d],b.splice(d,1);Rb=c}z=wa.attr("data-transitionType").toUpperCase();"SLIDE"!=z&&"SPLIT"!=z&&"REVEAL"!=z&&"KEN_BURNS"!=z&&"ALPHA"!=z&&"ZOOM"!=z&&alert("Invalid transitionType on category number: "+
o);"KEN_BURNS"!=z&&(a=wa.attr("data-imageFitMode"),"fit-inside"!=a&&"fit-outside"!=a?alert("Invalid imageFitMode on category number: "+o):("fit-inside"==a?ka=!0:ka=!1,xa&&(ka=!0)),$a(),t=wa.attr("data-transitionEase"),u=parseInt(wa.attr("data-transitionTime"),10));ba=parseInt(wa.attr("data-thumbWidth"),10);aa=parseInt(wa.attr("data-thumbHeight"),10);P=wa.attr("data-bgColor");!1==ya[o].mainLoaded&&(pb=!1);ad();pb?(Pb=!0,pa()):mc()}function ad(){for(var a=0,b,c,d,p=0;a<l;a++)c=i(Ha[a]),d=i("<div/>"),
d.attr("id",a),d.css("position","absolute"),d.css("zIndex",a+1),d.css("overflow","hidden"),0<Hc&&d.css("borderRadius",Hc),"horizontal"==W?(d.css("top",K+"px"),b=p+a*da,d.css("left",b+"px"),Fb[a]=b,p+=ba):(b=p+a*da,d.css("top",b+"px"),Fb[a]=b,d.css("left",K+"px"),p+=aa),d.css("width",ba+"px"),d.css("height",aa+"px"),d.css("cursor","pointer"),d.bind("click",bd),b=i(new Image),b.css("position","absolute"),b.css("width",ba+"px"),b.css("height",aa+"px"),b.attr("id",a),b.css("top",0),b.css("left",0),b.css("display",
"block"),c=c.attr("data-thumb")+"?rand="+99999999*Math.random(),b.load(function(){}).attr("src",c),b.error(function(){}),d.append(b),X.append(d),ob.push(d);Ic(ob)}function bd(a){if(!a)a=window.event;a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();if(T&&!oa&&!q&&(a=i(a.currentTarget).attr("id"),a!=x()))return qb=!0,"KEN_BURNS"!=z?Q?q||(M=a,q=!0):(rb(),Z=a,Sb()):!Aa&&!q&&(M=a,q=!0,j&&clearTimeout(j),Sa()),!1}function rb(){Qb&&Qb.css("cursor","pointer")}function nc(){var a=ob[x()];
a.css("cursor","default");Qb=a}function Tb(a){if(!Ja){Ub=!0;var b,c=i(Ha[a]),d,p,f=ya[o].main;b=i(new Image);b.attr("id",a);b.css("top",0);b.css("left",0);b.css("display","block");if("SLIDE"==z||"SPLIT"==z||"REVEAL"==z)b.css("position","absolute");else if("KEN_BURNS"==z||"ALPHA"==z||"ZOOM"==z)b.css("position","relative"),b.css("width","100%"),b.css("height","100%");a=c.attr("data-main")+"?rand="+99999999*Math.random();b.load(function(){d=i(this);p=d.attr("id");this.origWidth=this.width;this.origHeight=
this.height;f[p]=d;Ub=!1;oa&&(oa=!1,sb());!pb&&!oa&&mc();Pb||(T=Pb=!0,pa())}).attr("src",a);b.error(function(){})}}function mc(){var a=0,b=!1,c=ya[o].main;if(lc)for(;a<l;a++){if(void 0==c[Rb[a]]){b=!0;Tb(Rb[a]);break}}else for(;a<l;a++)if(void 0==c[a]){b=!0;Tb(a);break}if(!b)pb=ya[o].mainLoaded=!0}function ab(){oa=!0;Ub?(Ra&&clearInterval(Ra),Ra=setInterval(cd,dd)):Tb(x())}function cd(){Ub||(Ra&&clearInterval(Ra),oc[x()]?(oa=!1,pb||mc(),sb()):Tb(x()))}function sb(){switch(z){case "SLIDE":ed();break;
case "SPLIT":fd();break;case "REVEAL":gd();break;case "KEN_BURNS":hd();break;case "ALPHA":id();break;case "ZOOM":jd()}var a=1*i(Ha[x()]).attr("data-umgid");0<a&&"undefined"!=typeof UPG_onPhotoLoad&&UPG_onPhotoLoad(a)}function ed(){Q=!0;var a=ya[o].main;if(a[x()]){var b=a[x()],c=b[0].origWidth,d=b[0].origHeight,a=qa(!0);a.css("display","block");if(xa||c>g||d>f)d=Ba(v,c,d,ka),c=d.width,d=d.height;void 0!=P&&(I.css("background",P),L.css("background",P));bb([b]);b.css("width",c+"px");b.css("height",d+
"px");b.css("left",g/2-c/2+"px");b.css("top",f/2-d/2+"px");a.css("width",g+"px");a.css("height",f+"px");a.css("overflow","hidden");la&&cb();va?(pc=qc(kd),ld(a),a.append(b),b=Ta(a),md(a,b)):(a.css("left","0px"),a.css("top","0px"),a.css("opacity",0),a.append(b),a.stop().animate({opacity:1},{duration:rc,easing:sc,complete:function(){G()}}));va=!0}else la&&Ua(),ab()}function ld(a){switch(pc){case "top":a.css("left",0);a.css("top",-f+"px");break;case "left":a.css("left",-g+"px");a.css("top",0);break;case "bottom":a.css("left",
0);a.css("top",f+"px");break;case "right":a.css("left",g+"px"),a.css("top",0)}}function md(a,b){switch(pc){case "top":a.stop().animate({top:0},{duration:u,easing:t});b.stop().animate({top:f},{duration:u,easing:t,complete:function(){G(b)}});break;case "bottom":a.stop().animate({top:0},{duration:u,easing:t});b.stop().animate({top:-f},{duration:u,easing:t,complete:function(){G(b)}});break;case "left":a.stop().animate({left:0},{duration:u,easing:t});b.stop().animate({left:g},{duration:u,easing:t,complete:function(){G(b)}});
break;case "right":a.stop().animate({left:0},{duration:u,easing:t}),b.stop().animate({left:-g},{duration:u,easing:t,complete:function(){G(b)}})}}function fd(){Q=!0;var a=ya[o].main;if(a[x()]){var b=a[x()],c=b.clone(),d=b[0].origWidth,p=b[0].origHeight,a=qa(!0);a.css("display","block");if(xa||d>g||p>f)p=Ba(v,d,p,ka),d=p.width,p=p.height;bb([b,c]);b.css("width",d+"px");b.css("height",p+"px");b.css("left",g/2-d/2+"px");b.css("top",f/2-p/2+"px");c.css("width",d+"px");c.css("height",p+"px");a.css("width",
g+"px");a.css("height",f+"px");a.css("left","0px");a.css("top","0px");a.css("overflow","hidden");$=qc(nd);a.splitCase=$;od(b,c,a,d,p);la&&cb();va?(b=Ta(a),b.css("display","block"),tc(b,a),pd(b)):(a.css("opacity",0),a.stop().animate({opacity:1},{duration:rc,easing:sc,complete:function(){G()}}));va=!0}else la&&Ua(),ab()}function od(a,b,c,d,p){var e;if("horizontalUpLeft"==$||"horizontalUpRight"==$||"horizontalSplit"==$)e=i("<div/>"),e.attr("data-title","split1"),e.css("background",P),e.css("position",
"absolute"),e.css("top",0),e.css("left",0),e.css("width",g+"px"),e.css("height",f/2+"px"),e.css("overflow","hidden"),e.append(a),c.append(e),a=i("<div/>"),a.attr("data-title","split2"),a.css("background",P),a.css("position","absolute"),a.css("top",f/2+"px"),a.css("left",0),a.css("width",g+"px"),a.css("height",f/2+"px"),a.css("overflow","hidden"),a.append(b),c.append(a),c=(f-p)/2,b.css("left",g/2-d/2+"px"),b.css("top",-f/2+c+"px");else if("verticalUpLeft"==$||"verticalDownLeft"==$||"verticalSplit"==
$)e=i("<div/>"),e.attr("data-title","split1"),e.css("background",P),e.css("position","absolute"),e.css("top",0),e.css("left",0),e.css("width",g/2+"px"),e.css("height",f+"px"),e.css("overflow","hidden"),e.append(a),c.append(e),a=i("<div/>"),a.attr("data-title","split2"),a.css("background",P),a.css("position","absolute"),a.css("top",0),a.css("left",g/2+"px"),a.css("width",g/2+"px"),a.css("height",f+"px"),a.css("overflow","hidden"),a.append(b),c.append(a),b.css("left",-d/2+"px"),b.css("top",f/2-p/2+
"px")}function pd(a){$=a.splitCase;var b=i(a.children("div[data-title=split1]")),c=i(a.children("div[data-title=split2]"));"horizontalUpLeft"==$?(b.stop().animate({left:-g+"px"},{duration:u,easing:t}),c.stop().animate({left:g+"px"},{duration:u,easing:t,complete:function(){G(a)}})):"horizontalUpRight"==$?(b.stop().animate({left:g+"px"},{duration:u,easing:t}),c.stop().animate({left:-g+"px"},{duration:u,easing:t,complete:function(){G(a)}})):"horizontalSplit"==$?(b.stop().animate({top:-f/2+"px"},{duration:u,
easing:t}),c.stop().animate({top:f+"px"},{duration:u,easing:t,complete:function(){G(a)}})):"verticalUpLeft"==$?(b.stop().animate({top:-f+"px"},{duration:u,easing:t}),c.stop().animate({top:f+"px"},{duration:u,easing:t,complete:function(){G(a)}})):"verticalDownLeft"==$?(b.stop().animate({top:f+"px"},{duration:u,easing:t}),c.stop().animate({top:-f+"px"},{duration:u,easing:t,complete:function(){G(a)}})):"verticalSplit"==$&&(b.stop().animate({left:-g/2+"px"},{duration:u,easing:t}),c.stop().animate({left:g+
"px"},{duration:u,easing:t,complete:function(){G(a)}}))}function gd(){Q=!0;var a=ya[o].main;if(a[x()]){var a=a[x()],b=a[0].origWidth,c=a[0].origHeight,d=qa(!0);d.css("display","block");if(xa||b>g||c>f)c=Ba(v,b,c,ka),b=c.width,c=c.height;void 0!=P&&(I.css("background",P),L.css("background",P));bb([a]);a.css("width",b+"px");a.css("height",c+"px");a.css("left",g/2-b/2+"px");a.css("top",f/2-c/2+"px");d.css("overflow","hidden");d.css("width",g+"px");d.css("height",f+"px");d.css("left","0px");d.css("top",
"0px");la&&cb();va?(tb=qc(qd),b=Ta(d),tc(b,d),d.append(a),rd(b)):(d.css("opacity",0),d.append(a),d.stop().animate({opacity:1},{duration:rc,easing:sc,complete:function(){G()}}));va=!0}else la&&Ua(),ab()}function rd(a){"top"==tb?a.stop().animate({top:-f+"px"},{duration:u,easing:t,complete:function(){G(a)}}):"bottom"==tb?a.stop().animate({top:f+"px"},{duration:u,easing:t,complete:function(){G(a)}}):"right"==tb?a.stop().animate({left:g+"px"},{duration:u,easing:t,complete:function(){G(a)}}):"left"==tb&&
a.stop().animate({left:-g+"px"},{duration:u,easing:t,complete:function(){G(a)}})}function id(){Q=!0;var a=ya[o].main;if(a[x()]){var a=a[x()][0],b=a.origWidth,c=a.origHeight,d=qa(!0);d.css("display","block");d.css("opacity",0);if(xa||b>g||c>f)c=Ba(v,b,c,ka),b=c.width,c=c.height;void 0!=P&&v.css("background",P);bb([a]);d.css("width",b+"px");d.css("height",c+"px");d.css("left",g/2-b/2+"px");d.css("top",f/2-c/2+"px");d.append(a);la&&cb();if(va){var e=Ta(d);e.stop().animate({opacity:0},{duration:u,easing:t,
complete:function(){G(e)}});d.stop().animate({opacity:1},{duration:u,easing:t})}else d.stop().animate({opacity:1},{duration:u,easing:t,complete:function(){G()}});va=!0}else la&&Ua(),ab()}function jd(){Q=!0;var a=ya[o].main;if(a[x()]){var a=a[x()],b=a[0].origWidth,c=a[0].origHeight;if(xa||b>g||c>f)c=Ba(v,b,c,ka),b=c.width,c=c.height;void 0!=P&&v.css("background",P);bb([a]);var d=qa(!0);d.css("display","block");var e=Ta(d);tc(d,e);d.css("width",g+"px");d.css("height",f+"px");d.css("left",0);d.css("top",
0);d.css("overflow","hidden");d.append(a);a.css("left",Math.random()*g+"px");a.css("top",Math.random()*f+"px");a.css("width","0px");a.css("height","0px");la&&cb();va?a.animate({width:b+"px",height:c+"px",left:g/2-b/2+"px",top:f/2-c/2+"px"},{duration:u,easing:t,complete:function(){G(e)}}):a.animate({width:b+"px",height:c+"px",left:g/2-b/2+"px",top:f/2-c/2+"px"},{duration:u,easing:t,complete:function(){G()}});va=!0}else la&&Ua(),ab()}function G(a){Ja||(a&&(i(a).empty(),a.css("display","none")),Q=!1,
Jc(),qb=!1,q?("prev"==M?Vb():"next"==M?pa():(Z=M,Sb(!0)),q=!1):fa&&(j&&clearTimeout(j),j=setTimeout(pa,$a())))}function Sa(){Ja||(j&&clearTimeout(j),q?"prev"==M?Vb():"next"==M?pa():(Z=M,Sb(!0)):pa())}function hd(){Aa=Q=!0;var a=ya[o].main;if(a[x()]){var b=a[x()][0],c=b.origWidth,d=b.origHeight,e=i(Ha[x()]),h=!1,A=parseFloat(e.attr("data-startScale"));if(isNaN(A)||0==A)A=1;var k=parseFloat(e.attr("data-endScale"));if(isNaN(k)||0==k)k=1.5;A<k&&(h=!0);var ub=e.attr("data-startPosition");if(Kc(ub)||!Lc(ub,
vb))ub=uc(vb);a=e.attr("data-endPosition");if(Kc(a)||!Lc(a,vb))for(a=uc(vb);a==ub;)a=uc(vb);e=parseFloat(e.attr("data-duration"));if(isNaN(e)||0==e)e=7*Math.random()-3+3;var e=1E3*e,C=qa(!0);C.css("opacity",0);C.css("display","block");C.append(b);void 0!=P&&v.css("background",P);bb([b]);C.css("width",c*A+"px");C.css("height",d*A+"px");var A=parseInt(C.css("width"),10),m=parseInt(C.css("height"),10),b=0;A<g&&(b=g/A,h?(A=g,m*=b):(A=1.35*g,m*=1.35*b),C.css("width",A+"px"),C.css("height",m+"px"));A=parseInt(C.css("width"),
10);m=parseInt(C.css("height"),10);m<f&&(b=f/m,h?(m=f,A*=b):(m=1.35*f,A*=1.35*b),C.css("width",A+"px"),C.css("height",m+"px"));var l,n,b=parseInt(C.css("width"),10),A=parseInt(C.css("height"),10);switch(ub){case "tl":n=l=0;break;case "tc":l=g/2-b/2;n=0;break;case "tr":l=g-b;n=0;break;case "ml":l=0;n=f/2-A/2;break;case "mc":l=g/2-b/2;n=f/2-A/2;break;case "mr":l=g-b;n=f/2-A/2;break;case "bl":l=0;n=f-A;break;case "bc":l=g/2-b/2;n=f-A;break;case "br":l=g-b,n=f-A}c*=k;d*=k;c<g&&(b=g/c,h?(c=1.35*g,d*=1.35*
b):(c=g,d*=b));d<f&&(b=f/d,h?(d=1.35*f,c*=1.35*b):(d=f,c*=b));k=sd(a,c,d);h=k.x;k=k.y;Mc=a;C.css("left",l);C.css("top",n);l=e-700;la&&cb();fa&&(j&&clearTimeout(j),j=setTimeout(Sa,l));C.animate({opacity:1},{duration:1E3,easing:"easeOutSine",queue:!1,complete:function(){var a=Ta(C);i(a).stop().empty();a.css("display","none");Jc();qb=q=Aa=!1}});C.animate({left:h+"px",top:k+"px",width:c+"px",height:d+"px"},{duration:e,easing:"linear",queue:!1,complete:function(){fa&&(i(C).empty(),C.css("display","none"),
Ta(C));Q=!1}})}else la&&Ua(),ab()}function sd(a,b,c){var d={};switch(a){case "tl":d.x=0;d.y=0;break;case "tc":d.x=g/2-b/2;d.y=0;break;case "tr":d.x=g-b;d.y=0;break;case "ml":d.x=0;d.y=f/2-c/2;break;case "mc":d.x=g/2-b/2;d.y=f/2-c/2;break;case "mr":d.x=g-b;d.y=f/2-c/2;break;case "bl":d.x=0;d.y=f-c;break;case "bc":d.x=g/2-b/2;d.y=f-c;break;case "br":d.x=g-b,d.y=f-c}return d}function Ta(a){return"_holder1"==a.attr("data-title")?L:I}function tc(a,b){a.css("zIndex",1);b.css("zIndex",0)}function qa(a){var b;
b=I.children().size();a?0<b?(a=L,b=I):(a=I,b=L):0<b?(a=I,b=L):(a=L,b=I);"KEN_BURNS"==z&&(parseInt(a.css("zIndex"),10)<parseInt(b.css("zIndex"),10)?(a.css("zIndex",1),b.css("zIndex",0)):(a.css("zIndex",0),b.css("zIndex",1)));return a}function Ba(a,b,c,d){var e={},f=a.width(),a=a.height(),g=(f-0)/(a-0),i=b/c;i<g?d?(e.width=(a-0)/c*b,e.height=a-0):(e.height=(f-0)/b*c,e.width=f-0):i>g?d?(e.height=(f-0)/b*c,e.width=f-0):(e.width=(a-0)/c*b,e.height=a-0):(e.width=f-0,e.height=a-0);return e}function Kc(a){if(!a)return!0;
var b=!1;""==a.replace(/\s/g,"")&&(b=!0);return b}function qc(a){var b=Math.floor(Math.random()*(a.length-1)),b=a.splice(b,1)[0];a.push(b);return b}function uc(a){var b=Math.round(Math.random()*(a.length-1));return a[b]}function Lc(a,b){for(var c=0,d=b.length,e,f;c<d;c++)if(f=b[c],a==f){e=!0;break}return e}function $a(){return td?0<Wb?Wb:3E3:void 0!=wa.attr("data-transitionDelay")?parseInt(wa.attr("data-transitionDelay"),10):0<Wb?Wb:3E3}function x(){return lc?qb?Z:Rb[Z]:Z}function Ic(a){i(a).each(function(){i(this).attr("unselectable",
"on").css({"-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})}function Ua(){db.css("opacity",0);db.css("display","block");db.stop().animate({opacity:1},{duration:500,easing:"easeOutSine"})}function cb(){db.stop().animate({opacity:0},{duration:500,easing:"easeOutSine",complete:function(){db.css("display","none")}})}function eb(a){if(!a)a=window.event;a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();
T&&(a=i(a.currentTarget).attr("class"),"controls_prev"==a?Nc.attr("src",e.iconPath+"prev_on.png"):"controls_toggle"==a?fa?Ca.attr("src",e.iconPath+"pause_on.png"):Ca.attr("src",e.iconPath+"play_on.png"):"controls_next"==a?Oc.attr("src",e.iconPath+"next_on.png"):"info_toggle"==a?vc.attr("src",e.iconPath+"info_on.png"):"link_toggle"==a?Pc.attr("src",e.iconPath+"link_on.png"):"playlist_toggle"==a&&(ia?Wa.attr("src",e.iconPath+"minus_on.png"):Wa.attr("src",e.iconPath+"plus_on.png")))}function fb(a){if(!a)a=
window.event;a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();T&&(a=i(a.currentTarget).attr("class"),"controls_prev"==a?Nc.attr("src",e.iconPath+"prev_off.png"):"controls_toggle"==a?fa?Ca.attr("src",e.iconPath+"pause_off.png"):Ca.attr("src",e.iconPath+"play_off.png"):"controls_next"==a?Oc.attr("src",e.iconPath+"next_off.png"):"info_toggle"==a?vc.attr("src",e.iconPath+"info_off.png"):"link_toggle"==a?Pc.attr("src",e.iconPath+"link_off.png"):"playlist_toggle"==a&&(ia?Wa.attr("src",
e.iconPath+"minus_off.png"):Wa.attr("src",e.iconPath+"plus_off.png")))}function gb(a){if(!a)a=window.event;a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();if(T){a=i(a.currentTarget).attr("class");if("controls_prev"==a){if(oa||q)return;"KEN_BURNS"!=z?Q?q||(M="prev",q=!0):Vb():!Aa&&!q&&(M="prev",q=!0,j&&clearTimeout(j),Sa())}else if("controls_toggle"==a)q=!1,fa?(j&&clearTimeout(j),fa=!1,Ca.attr("src",e.iconPath+"play_on.png")):(fa=!0,Ca.attr("src",e.iconPath+"pause_on.png"),
"KEN_BURNS"!=z?Q||(j&&clearTimeout(j),j=setTimeout(pa,$a())):(j&&clearTimeout(j),j=setTimeout(pa,$a())));else if("controls_next"==a){if(oa||q)return;"KEN_BURNS"!=z?Q?q||(M="next",q=!0):pa():!Aa&&!q&&(M="next",q=!0,j&&clearTimeout(j),Sa())}else if("info_toggle"==a){if(!Xb)return;Qc()}else if("link_toggle"==a){if(!Xb)return;Rc()}else"playlist_toggle"==a&&ec();return!1}}function Sb(a){j&&clearTimeout(j);Ob();a&&rb();nc();N&&Db(!0);sb()}function pa(){j&&clearTimeout(j);Ob();rb();Z++;if(Z>l-1){if(Sc){o++;
o>F-1&&(o=0);m+Pa-1<o?m=o:0==o&&(m=o);lb();return}Z=0}nc();N&&Db(!0);sb()}function Vb(){j&&clearTimeout(j);Ob();rb();Z--;if(0>Z){if(Sc){o--;0>o&&(o=F-1);lb();return}Z=l-1}nc();N&&Db(!0);sb()}function Jc(){if(Yb){var a=i(Ha[x()]);void 0!=a.attr("data-description")&&(Tc=a.attr("data-description"),ra.css("width","auto"),ra.html(Tc),parseInt(ra.css("width"),10)>Uc&&ra.css("width",Uc+"px"),Yb&&(vc.attr("src",e.iconPath+"info_off.png"),Da.css("opacity",0),Da.css("display","block"),Da.stop().animate({opacity:1},
{duration:400,easing:"easeOutSine"})),ud&&Qc())}wc&&(Ea.css("opacity",0),Ea.css("display","block"),Ea.stop().animate({opacity:1},{duration:400,easing:"easeOutSine"}));Xb=!0}function bb(a){wc=!1;var b=i(Ha[x()]);if(void 0!=b.attr("data-link")&&(wc=!0,Zb=b.attr("data-link"),void 0!=b.attr("data-target")&&(hb=b.attr("data-target")),hb||(hb="_blank"),vd))for(var c in a)i(a[c]).bind("click",Rc),i(a[c]).css("cursor","pointer")}function Ob(){Xb=!1;Yb&&(Da.stop().animate({opacity:0},{duration:400,easing:"easeOutSine",
complete:function(){Da.css("display","none")}}),wb&&(ra.stop().animate({opacity:0},{duration:400,easing:"easeOutSine",complete:function(){ra.css("display","none")}}),wb=!1));Ea.stop().animate({opacity:0},{duration:400,easing:"easeOutSine",complete:function(){Ea.css("display","none")}})}function Qc(){wb?(ra.stop().animate({opacity:0},{duration:400,easing:"easeOutSine",complete:function(){ra.css("display","none")}}),wb=!1):(ra.css("opacity",0),ra.css("display","block"),ra.stop().animate({opacity:1},
{duration:400,easing:"easeOutSine"}),wb=!0)}function Rc(){if(Zb)if("_parent"==hb)window.location=Zb;else if("_blank"==hb){var a=window.open(Zb,hb);window.focus&&a.focus()}}function wd(){"KEN_BURNS"==z&&(xc=v.width());g=parseInt(y.css("width"),10);f=parseInt(y.css("height"),10);v.css("width",g+"px");v.css("height",f+"px");if(!Q)switch(z){case "SLIDE":var a=qa(!1),b=a.children(),c=b[0].origWidth,d=b[0].origHeight;if(xa||c>g||d>f)d=Ba(v,c,d,ka),c=d.width,d=d.height;b.css("width",c+"px");b.css("height",
d+"px");b.css("left",g/2-c/2+"px");b.css("top",f/2-d/2+"px");a.css("width",g+"px");a.css("height",f+"px");break;case "SPLIT":var c=qa(!1),d=c.splitCase,e=i(c.children("div[data-title=split1]")),h=i(c.children("div[data-title=split2]")),j=e.children("img"),a=h.children("img"),b=j[0].origWidth,k=j[0].origHeight;if(xa||b>g||k>f)k=Ba(v,b,k,ka),b=k.width,k=k.height;j.css("width",b+"px");j.css("height",k+"px");j.css("left",g/2-b/2+"px");j.css("top",f/2-k/2+"px");a.css("width",b+"px");a.css("height",k+"px");
c.css("width",g+"px");c.css("height",f+"px");c.css("left","0px");c.css("top","0px");if("horizontalUpLeft"==d||"horizontalUpRight"==d||"horizontalSplit"==d)e.css("top",0),e.css("left",0),e.css("width",g+"px"),e.css("height",f/2+"px"),h.css("top",f/2+"px"),h.css("left",0),h.css("width",g+"px"),h.css("height",f/2+"px"),c=(f-k)/2,a.css("left",g/2-b/2+"px"),a.css("top",-f/2+c+"px");else if("verticalUpLeft"==d||"verticalDownLeft"==d||"verticalSplit"==d)e.css("top",0),e.css("left",0),e.css("width",g/2+"px"),
e.css("height",f+"px"),h.css("top",0),h.css("left",g/2+"px"),h.css("width",g/2+"px"),h.css("height",f+"px"),a.css("left",-b/2+"px"),a.css("top",f/2-k/2+"px");break;case "REVEAL":a=qa(!1);b=a.children();c=b[0].origWidth;d=b[0].origHeight;if(xa||c>g||d>f)d=Ba(v,c,d,ka),c=d.width,d=d.height;b.css("width",c+"px");b.css("height",d+"px");b.css("left",g/2-c/2+"px");b.css("top",f/2-d/2+"px");a.css("width",g+"px");a.css("height",f+"px");a.css("left","0px");a.css("top","0px");break;case "KEN_BURNS":if(!Aa){a=
yc.width();b=yc.height();c=qa(!1);h=c.width();d=c.height();e=a/xc*h;h=e/h;c.css("width",e+"px");c.css("height",d*h+"px");switch(Mc){case "tc":c.css("left",-e/2+a/2+"px");break;case "tr":c.css("left",-e+a+"px");break;case "ml":c.css("top",-c.height()/2+b/2+"px");break;case "mc":c.css("top",-c.height()/2+b/2+"px");c.css("left",-e/2+a/2+"px");break;case "mr":c.css("top",-c.height()/2+b/2+"px");c.css("left",-e+a+"px");break;case "bl":c.css("top",-c.height()+b+"px");break;case "bc":c.css("top",-c.height()+
b+"px");c.css("left",-e/2+a/2+"px");break;case "br":c.css("top",-c.height()+b+"px"),c.css("left",-e+a+"px")}xc=a}break;case "ALPHA":a=qa(!1);c=a.children()[0];b=c.origWidth;c=c.origHeight;if(xa||b>g||c>f)c=Ba(v,b,c,ka),b=c.width,c=c.height;a.css("width",b+"px");a.css("height",c+"px");a.css("left",g/2-b/2+"px");a.css("top",f/2-c/2+"px");break;case "ZOOM":a=qa(!1);b=a.children();c=b[0].origWidth;d=b[0].origHeight;if(xa||c>g||d>f)d=Ba(v,c,d,ka),c=d.width,d=d.height;a.css("width",g+"px");a.css("height",
f+"px");a.css("left",0);a.css("top",0);b.css("width",c+"px");b.css("height",d+"px");b.css("left",g/2-c/2+"px");b.css("top",f/2-d/2+"px")}fc();cc();Za||Lb()}var T=!1,y=i(Xc),xd=y.find(".componentPlaylist"),la=e.usePreloader;if(la){var db=y.find(".componentPreloader");db.css("zIndex",104);Ua()}else y.find(".componentPreloader").remove();var ca=e.playlistIndex,D;if("inside"!=ca)D=e.playlistSize;i("body");var yc=i(window),yd=i(document),qb=!1,La=e.fixMenu;if(La)var ea=e.fixMenuSettings.side,na=e.fixMenuSettings.value;
var Eb=e.fixThumbs;if(Eb)var Ia=e.fixThumbsSettings.side,za=e.fixThumbsSettings.value;var zd=e.disableRightClick,Ad=e.componentFixedSize,g=parseInt(y.css("width"),10),f=parseInt(y.css("height"),10),S=e.playlistPosition,W,ma;if("top"==S||"bottom"==S)ma=W="horizontal","inside"!=ca&&(g=parseInt(y.css("width"),10),f=parseInt(y.css("height"),10)-D);else if("left"==S||"right"==S)ma=W="vertical","inside"!=ca&&(g=parseInt(y.css("width"),10)-D,f=parseInt(y.css("height"),10));var kc=xd.children("div[data-categoryTitle]"),
Ha=[],wa,Uc=e.maxDescriptionWidth,F=kc.size(),Za=!1;1==F&&(Za=!0);for(var l,ia=!1,Bd=e.autoOpenPlaylist,vb="tl,tc,tr,ml,mc,mr,bl,bc,br".split(","),Mc,xc,Aa=!1,kd=["top","left","bottom","right"],pc,qd=["top","left","bottom","right"],tb,nd="horizontalUpLeft,horizontalUpRight,horizontalSplit,verticalUpLeft,verticalDownLeft,verticalSplit".split(","),$,rc=500,sc="easeOutSine",Z=-1,Ja=!1,Pb=!1,fa=e.slideshowOn,Wb=e.slideshowDelay,j,td=e.useGlobalDelay,dd=100,Ra,Ub=!1,oa=!1,t,u,Q=!1,Qb=null,ob=[],wc=!1,
Zb,hb,ya={},$b,oc,Vc=[],xb=0;xb<F;xb++)$b={},oc=[],$b.mainLoaded=!1,$b.main=oc,ya[xb]=$b,Vc[xb]=i(kc[xb]).attr("data-categoryTitle");var pb=!1,Rb=[],lc=e.randomPlay,Xb=!1,Sc=e.slideshowAdvancesToNextCategory,va=!1,vd=e.makeImageClickableForUrl,q=!1,M,Oa=!1,gc,z,xa=e.forceImageFitMode,ka=!1,P,o=e.activeCategory;Za?o=0:o>F-1&&(o=F-1);var v=i("<div/>");v.css("position","absolute");v.css("top",0);v.css("left",0);v.css("width",g+"px");v.css("height",f+"px");v.css("overflow","hidden");y.append(v);var I=
i("<div/>");I.css("display","none");I.attr("data-title","_holder1");I.css("position","absolute");I.css("zIndex",0);v.append(I);var L=i("<div/>");L.attr("data-title","_holder2");L.css("display","none");L.css("position","absolute");L.css("zIndex",1);v.append(L);var Hc=e.thumbBorderRadius,ga=e.menuBeforeSpace,Fa=0,Ma=e.menuThumbSpace,bc=0,Yc=e.thumbAfterSpace,kb=!1,Na=e.visibleThumbs,dc=!1;"max"==Na&&(dc=!0,Eb=!1);var da=e.thumbSpacing,ba,aa,Cd=e.playlistBgColor,K=e.thumbRolloverSize,ha=e.thumbBtnOffset,
s,Cb=100+2*ha,Ka,R,Fb=[],Va,k=0;"horizontal"==W?(Ka=600-Cb,Va=Math.floor(Ka/(ba+da))):(Ka=450-Cb,Va=Math.floor(Ka/(aa+da)));var h,J,X,r,B,N,Pa=0,Ib=e.menuSpacing,Ga=e.visibleMenuItems,mb=!1;"max"==Ga&&(mb=!0,La=!1);var ja=e.menuBtnOffset,m=o,Nb=!1,jc=[],Hb=[],Ec=[],Ya=[],w,ta,Jb=100+2*ja,n,E,V=0,nb=0,Qa=0,O,Y,sa=e.menuRolloverLRSize,ua=e.menuRolloverTBSize,zc,Mb=e.menuBtnPosOffset,ic=null,Wc=e.useSlideshowControls;if(Wc){var ac=y.find(".slideshow_controls");ac.css("zIndex",100);var yb=y.find(".controls_prev"),
zb=y.find(".controls_toggle"),Ab=y.find(".controls_next");yb.css("cursor","pointer");zb.css("cursor","pointer");Ab.css("cursor","pointer");yb.bind("click",gb);zb.bind("click",gb);Ab.bind("click",gb);yb.bind("mouseover",eb);zb.bind("mouseover",eb);Ab.bind("mouseover",eb);yb.bind("mouseout",fb);zb.bind("mouseout",fb);Ab.bind("mouseout",fb);var Nc=yb.children("img"),Oc=Ab.children("img"),Ca=zb.children("img");fa&&Ca.attr("src",e.iconPath+"pause_off.png");ac.css("opacity",0);ac.css("display","block");
ac.stop().animate({opacity:1},{duration:1E3,easing:"easeOutSine"})}else y.find(".slideshow_controls").remove();y.find(".data_controls").css("zIndex",103);var Yb=e.useDescription;if(Yb){var ud=e.autoOpenDescription,wb=!1,Tc,Da=y.find(".info_toggle");Da.css("cursor","pointer");Da.bind("click",gb);Da.bind("mouseover",eb);Da.bind("mouseout",fb);var vc=Da.children("img"),ra=y.find(".info_holder");ra.css("zIndex",102)}else y.find(".info_toggle").remove(),y.find(".info_holder").remove();var Ea=y.find(".link_toggle");
Ea.css("cursor","pointer");Ea.bind("click",gb);Ea.bind("mouseover",eb);Ea.bind("mouseout",fb);var Pc=Ea.children("img"),jb=e.fixPlaylistToggleBtn;if("inside"==ca){var H=y.find(".playlist_toggle");H.css("zIndex",104);H.css("cursor","pointer");H.bind("click",gb);H.bind("mouseover",eb);H.bind("mouseout",fb);var Wa=H.children("img");H.css("opacity",0);H.css("display","block");H.stop().animate({opacity:1},{duration:1E3,easing:"easeOutSine"})}else y.find(".playlist_toggle").remove();X=i("<div/>");X.css("position",
"absolute");var Bb=[];(function(){var a,b,c,d;if("top"==S||"bottom"==S)a=e.iconPath+"playlist_prev_h.png",b=e.iconPath+"playlist_next_h.png",c=e.iconPath+"playlist_prev_h.png",d=e.iconPath+"playlist_next_h.png";else if("left"==S||"right"==S)a=e.iconPath+"playlist_prev_v.png",b=e.iconPath+"playlist_next_v.png",c=e.iconPath+"playlist_prev_v.png",d=e.iconPath+"playlist_next_v.png";var f=0;a=[c,d,a,b];for(var g=a.length,j=0,k;f<g;f++)b=i(new Image),b.attr("id",f),b.css({top:0,left:0,display:"block"}).load(function(){j++;
k=i(this).attr("id");Bb[k]=this;if(j==g){Gc();h=i("<div/>");h.css("position","absolute");h.css("background",Cd);h.css("zIndex",105);"inside"==ca?v.append(h):y.append(h);H&&jb&&h.append(H);J=i("<div/>");J.css("position","absolute");J.css("overflow","hidden");var a=e.thumbBgColor;""!=a&&J.css("background",a);h.append(J);a=i("<div/>");a.css("position","absolute");"horizontal"==W?(a.css("left",K+"px"),a.css("top",0)):(a.css("left",0),a.css("top",K+"px"));J.append(a);a.append(X);if(0<K)N=i("<div/>"),N.css("position",
"absolute"),N.css("zIndex",0),a=e.thumbRolloverBorderRadius,0<a&&N.css("borderRadius",a),"horizontal"==W?N.css("top",0):N.css("left",0),N.css("background",e.thumbRolloverColor),X.append(N);r=i("<div/>");r.css("display","none");r.attr("id","prevThumbBtn");r.css("position","absolute");r.css("cursor","pointer");r.append(Bb[0]);h.append(r);r.bind("click",Cc);B=i("<div/>");B.css("display","none");B.attr("id","nextThumbBtn");B.css("position","absolute");B.css("cursor","pointer");B.append(Bb[1]);h.append(B);
B.bind("click",Cc);if(!Za){w=i("<div/>");w.css("position","absolute");w.css("overflow","hidden");a=e.menuBgColor;""!=a&&w.css("background",a);"horizontal"==ma?w.css("top",ga+"px"):w.css("left",ga+"px");h.append(w);a=i("<div/>");a.css("position","absolute");a.css("left",sa+"px");a.css("top",ua+"px");w.append(a);ta=i("<div/>");ta.css("position","absolute");"horizontal"==W?ta.css("left",0):ta.css("top",0);a.append(ta);if(0<sa||0<ua)O=i("<div/>"),O.css("position","absolute"),zc=e.menuRolloverBorderRadius,
0<zc&&O.css("borderRadius",zc),"horizontal"==ma?O.css("top",-ua+"px"):O.css("left",-sa+"px"),O.css("background",e.menuRolloverColor),ta.append(O);n=i("<div/>");n.css("display","none");n.attr("id","prevMenuBtn");n.css("position","absolute");n.css("cursor","pointer");n.append(Bb[2]);h.append(n);n.bind("click",Fc);E=i("<div/>");E.css("display","none");E.attr("id","nextMenuBtn");E.css("position","absolute");E.css("cursor","pointer");E.append(Bb[3]);h.append(E);E.bind("click",Fc);for(var a=0,b,c=0,d=y.find(".fontMeasure");a<
F;a++)b=i("<div/>").html(Vc[a]).addClass("menu_item").appendTo(d),"horizontal"==ma?(b.css("left",c+a*Ib+"px"),b.css("top",0),c+=b.width(),Hb.push(b.width()),Ya.push(parseInt(b.css("left"),10))):(b.css("top",c+a*Ib+"px"),b.css("left",0),c+=b.height(),Hb.push(b.height()),Ec.push(b.width()),Ya.push(parseInt(b.css("top"),10))),b.css("width",b.width()+1+"px"),Qa<b.height()&&(Qa=b.height()),nb<b.width()&&(nb=b.width()),b.appendTo(ta),b.attr("id",a),b.bind("click",Zc),b.css("cursor","pointer"),b.css("zIndex",
999),jc.push(b);Ic(jc);"horizontal"==ma?(w.css("height",Qa+2*ua+"px"),Fa=parseInt(w.css("height"),10)):(w.css("width",nb+2*sa+"px"),Fa=parseInt(w.css("width"),10));d.remove()}Ac();fc();cc();Za||(Lb(),Gb(),O&&Xa());"horizontal"==W?J.css("top",ga+Fa+Ma+"px"):J.css("left",ga+Fa+Ma+"px");"inside"==ca&&Bd&&ec()}}).attr("src",a[f])})();zd&&yd.bind("contextmenu",function(){return!1});Ad||yc.resize(function(){if(!T||Ja)return!1;clearTimeout(this.id);this.id=setTimeout(wd,30)});i.multiGallery.stopSlideshow=
function(){T&&(j&&clearTimeout(j),fa=!1,Wc&&Ca.attr("src",e.iconPath+"play_off.png"))};i.multiGallery.startSlideshow=function(){T&&!fa&&(j&&clearTimeout(j),q=!1,fa?(j&&clearTimeout(j),fa=!1,Ca.attr("src",e.iconPath+"play_on.png")):(fa=!0,Ca.attr("src",e.iconPath+"pause_on.png"),"KEN_BURNS"!=z?Q||(j&&clearTimeout(j),j=setTimeout(pa,$a())):(j&&clearTimeout(j),j=setTimeout(pa,$a()))))};i.multiGallery.togglePlaylistState=function(){T&&"inside"==ca&&ec()};i.multiGallery.nextItem=function(){T&&(j&&clearTimeout(j),
!oa&&!q&&("KEN_BURNS"!=z?Q?q||(M="next",q=!0):pa():!Aa&&!q&&(M="next",q=!0,j&&clearTimeout(j),Sa())))};i.multiGallery.previousItem=function(){T&&(j&&clearTimeout(j),!oa&&!q&&("KEN_BURNS"!=z?Q?q||(M="prev",q=!0):Vb():!Aa&&!q&&(M="prev",q=!0,j&&clearTimeout(j),Sa())))};i.multiGallery.loadItem=function(a){T&&!oa&&(j&&clearTimeout(j),0>a?a=0:a>l-1&&(a=l-1),a!=Z&&(qb=!0,"KEN_BURNS"!=z?Q?q||(M=a,q=!0):(rb(),Z=a,Sb()):!Aa&&!q&&(M=a,q=!0,j&&clearTimeout(j),Sa())))};i.multiGallery.loadCategory=function(a){T&&
(j&&clearTimeout(j),0>a?a=0:a>F-1&&(a=F-1),a!=o&&(Ja?Oa||(gc=a,Oa=!0):(Oa=!1,hc(),o=a,Gb(),O&&Xa(),lb())))}}})(jQuery);
