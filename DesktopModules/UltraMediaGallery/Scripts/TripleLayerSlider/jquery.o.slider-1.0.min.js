(function(a){a.fn.oSlider=function(b){a.fn.oSlider.defaults={animSpeed:1e3,liquidLayout:true,autoStart:false,pauseTime:3e3,arrowsNav:true,arrowsNavHide:false,listNav:true,listNavThumbs:false,listNavThumbName:"_thumb",pauseOnHover:false,layers:false};var c=a.extend({},a.fn.oSlider.defaults,b);var d={frame:'<div class="o-slider-frame">',images:'<div class="o-slider-images">',image_outer:'<div class="o-slider-image-outer">',image:'<div class="o-slider-image">'};var e=a('<div class="o-slider-arrows previous"></div>');var f=a('<div class="o-slider-arrows next"></div>');var g=a('<ul class="switcher"></ul>');var h=a(this);var i={height:h.height(),width:h.width(),images_total:h.find("img").length,images_amount:h.find("img").length};if(c.layers){var j=c.layers}var k=1;var l=function(){var b=a("img",h);a.each(b,function(b,c){if(a(c).parent("a").length>0){a(c).parent("a").addClass("img_holder").wrap(d.image)}else{a(c).wrap(d.image)}var e=a(c).attr("class");if(e&&a("div#"+e).length>0){a("div#"+e).addClass("o-slider-caption");if(a(c).parent("a").length>0){a(c).parent("a").parent("div").append(a("div#"+e))}else{a(c).parent("div").append(a("div#"+e))}}e=0});a("div.o-slider-image",h).wrap(d.image_outer);h.addClass("o-slider-external").wrapInner(d.frame);a("div.o-slider-frame",h).wrapInner(d.images).append(g);if(c.arrowsNav){a("div.o-slider-frame",h).append(e).append(f);if(c.arrowsNavHide){a("div.o-slider-arrows",h).hide()}}if(c.listNav){if(c.listNavThumbs){g.addClass("o-slider-listNavThumbs");a.each(b,function(b,c){g.append('<li><img src="'+a(c).attr("alt")+'" /></li>')})}else{g.addClass("o-slider-listNav");for(t=0;t<i.images_total;t++){g.append("<li></li>")}}a("li:first-child",g).addClass("active");g.css("left",(a("div.o-slider-frame",this).width()-g.width())/2)}a.each(b,function(b,c){a(c).attr("alt","")});a("div.o-slider-images",h).width(i.width*i.images_total);a("div.o-slider-image-outer",h).width(i.width);if(j){a.each(j,function(b,c){var d;var e,f,g;a.each(c,function(a,b){if(a=="offset"){e=b;if(e>100){e=100}if(e<0){e=0}}if(a=="className"){f=b}if(a=="direction"){g=b}});h.append('<div class="o-slider-layer '+f+'"></div>');a("div."+f,h).width(i.width*i.images_total).height(i.height);if(g=="ltr"){a("div."+f,h).css("left","0")}if(g=="rtl"){var j=i.width*(i.images_total-1)*e/100;a("div."+f,h).css("left","-"+j+"px")}e=f=g=0})}};if(c.liquidLayout){a(window).resize(function(){i.width=h.width();a("div.o-slider-images",h).width(i.width*i.images_total);a("div.o-slider-image-outer",h).width(i.width);if(j){a.each(j,function(b,c){var d,e,f;a.each(c,function(a,b){if(a=="offset"){d=b;if(d>100){d=100}if(d<0){d=0}}if(a=="className"){e=b}if(a=="direction"){f=b}});a("div."+e,h).width(i.width*i.images_total);if(f=="rtl"){a("div."+e,h).css("left","0px");a("div."+e,h).css("left","-"+i.width*(i.images_total-k)*d/100+"px")}if(f=="ltr"){a("div."+e,h).css("left","0px");a("div."+e,h).css("left","-"+i.width*(k-1)*d/100+"px")}d=e=f=0})}a("div.o-slider-images",h).css("left","0px");a("div.o-slider-images",h).css("left","-"+i.width*(k-1)+"px")})}e.bind("click",function(){if(i.images_amount<i.images_total){h.find("div.o-slider-images").animate({left:"+="+i.width},c.animSpeed);if(j){a.each(j,function(b,d){var e,f,g;a.each(d,function(a,b){if(a=="offset"){e=b;if(e>100){e=100}if(e<0){e=0}}if(a=="className"){f=b}if(a=="direction"){g=b}});h.find("div."+f).animate({left:g&&g=="rtl"?"-="+Math.floor(i.width*e/100):"+="+Math.floor(i.width*e/100)},c.animSpeed);e=f=g=0})}i.images_amount++;g.find("li").removeClass("active");var b=i.images_total-i.images_amount;g.find("li:eq("+b+")").addClass("active");k--}else{return false}});f.bind("click",function(){if(i.images_amount>1){h.find("div.o-slider-images").animate({left:"-="+i.width},c.animSpeed);if(j){a.each(j,function(b,d){var e,f,g;a.each(d,function(a,b){if(a=="offset"){e=b;if(e>100){e=100}if(e<0){e=0}}if(a=="className"){f=b}if(a=="direction"){g=b}});Math.floor(i.width*e/100);h.find("div."+f).animate({left:g&&g=="rtl"?"+="+Math.floor(i.width*e/100):"-="+Math.floor(i.width*e/100)},c.animSpeed);e=f=g=0})}i.images_amount--;k++;g.find("li").removeClass("active");var b=i.images_total-i.images_amount;g.find("li:eq("+b+")").addClass("active")}else{if(c.autoStart){a("ul.switcher li:first",h).trigger("click")}return false}});var m="";if(c.autoStart){m=setInterval(function(){f.trigger("click")},c.pauseTime)}if(c.pauseOnHover&&c.autoStart){h.hover(function(){clearInterval(m);m=""},function(){if(m==""){m=setInterval(function(){f.trigger("click")},c.pauseTime)}})}if(c.arrowsNav&&c.arrowsNavHide){h.hover(function(){a("div.o-slider-arrows",h).show()},function(){a("div.o-slider-arrows",h).hide()})}a("ul.switcher li",this).live("click",function(){var b=a(this).prevAll().length+1;var d=i.images_total-i.images_amount+1;a(this).parent("ul").find("li").removeClass("active");a(this).addClass("active");var e=d-b;if(e<0){a("div.o-slider-images",h).animate({left:"-="+i.width*Math.abs(e)},c.animSpeed);if(j){a.each(j,function(b,d){var f,g,j;a.each(d,function(a,b){if(a=="offset"){f=b;if(f>100){f=100}if(f<0){f=0}}if(a=="className"){g=b}if(a=="direction"){j=b}});a("div."+g,h).animate({left:j&&j=="rtl"?"+="+Math.floor(i.width*f/100)*Math.abs(e):"-="+Math.floor(i.width*f/100)*Math.abs(e)},c.animSpeed);f=g=j=0})}}else{a("div.o-slider-images",h).animate({left:"+="+i.width*Math.abs(e)},c.animSpeed);if(j){a.each(j,function(b,d){var f,g,j;a.each(d,function(a,b){if(a=="offset"){f=b;if(f>100){f=100}if(f<0){f=0}}if(a=="className")g=b;if(a=="direction")j=b});a("div."+g,h).animate({left:j&&j=="rtl"?"-="+Math.floor(i.width*f/100)*Math.abs(e):"+="+Math.floor(i.width*f/100)*Math.abs(e)},c.animSpeed);f=g=j=0})}}i.images_amount=i.images_total-b+1;k=b});return this.each(l)}})(jQuery)